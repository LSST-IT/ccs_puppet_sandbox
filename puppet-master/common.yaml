---
motd: |
        Server installed on a SandBox
                * Comments or suggestions to Andres Villalobos <avillalobos@lsst.org>
                * Git Repo: https://github.com/avillalobos/lsst_devops
                * Puppet Server:  10.0.0.250 <vagrant up>
                * Influx Server:  10.0.0.251 <vagrant up influx>
                * Grafana Server: 10.0.0.252 <vagrant up grafana>
                * Graylog Server: 10.0.0.253 <vagrant up graylog>

ntp:
        ntp_server_1 : "0.south-america.pool.ntp.org"
        ntp_server_2 : "0.north-america.pool.ntp.org"
        ntp_server_3 : "1.north-america.pool.ntp.org"

#Password generated as: openssl passwd -1 -salt LSST <PWD>
# Admin passwords
#root4u
root_pwd: "$1$LSST$B1iDiSUKZsUJUPLHpj2Cl/"
#Bnice2me
lsst_sysadmin_pwd: "$1$PMfYrt2j$DAkeHmsz1q5h2XUsMZ9xn."

# Sal/LSST Passwords - Bnice2me
lsstmgr_pwd: "$1$PMfYrt2j$DAkeHmsz1q5h2XUsMZ9xn."
tcsmgr_pwd: "$1$PMfYrt2j$DAkeHmsz1q5h2XUsMZ9xn."
tcs_pwd: "$1$PMfYrt2j$DAkeHmsz1q5h2XUsMZ9xn."

lsst_firewall_default_zone: "public"
lsst_firewall_default_target: "DROP"
lsst_firewall_default_sources:
        - 10.0.0.0/24

puppet_ssh_id_rsa_pub: "<InsertSSHKeyHere>"

puppet_agent_run_interval: 3600

puppet_master_server: "puppet-master.dev.lsst.org"
puppet_agent_service_state: "running"

dns_alt_names: "gs-puppet-master.dev.lsst.org,puppet-master.dev.lsst.org"
puppet_master_certname: "puppet-master.dev.lsst.org"

# Site values

#Password generated as: openssl passwd -1 -salt LSST <PWD>
#Bnice2me
ts_sal::sal_pwd: "$1$LSST$HYme564rL6LjMkjrDNGUb0"
#new2me
ts_sal::salmgr_pwd: "$1$LSST$KHDJ07GNKg8bNYnhv8FwM."

# TS Values

# Module variables
#####################################################
# Sal custom configuration
ts_sal::lsst_users_home_dir: "/home"
ts_sal::firewall_dds_zone_name: "lsst_zone"

ts_sal::ts_sal_path: "/opt/ts_sal"
ts_sal::ts_opensplice_path: "/opt/ts_opensplice"
ts_sal::ts_sal_repo: "https://github.com/lsst-ts/ts_sal.git"
ts_sal::ts_sal_branch: "master"
ts_sal::ts_opensplice_repo: "https://github.com/lsst-ts/ts_opensplice.git"
ts_sal::ts_opensplice_branch: "master"

ts_xml::ts_xml_path: "/opt/ts_xml"
ts_xml::ts_xml_repo: "https://github.com/lsst-ts/ts_xml.git"
ts_xml::ts_xml_branch: "master"

# Telescope & Site profile variables
#####################################################

# ts-intcluster variables
kernel_devel: "kernel-devel-3.10.0-693.el7.x86_64"
vagrant_rpm: "https://releases.hashicorp.com/vagrant/2.0.4/vagrant_2.0.4_x86_64.rpm"
virtualbox_version: "VirtualBox-5.2"

ts::ts_visit_simulator::sal_network_interface: "eth1"
ts::ts_visit_simulator::branch: "develop"
ts::ts:visit_simulator::path: "/opt/ts_visit_simulator"

# EFD
#####################################################
ts::efd::user: "efduser"

ts::efd::user_pwd: "lssttest"

ts::efd::ts_xml_subsystems:
        - "dome"
        - "domeADB"
        - "domeLWS"

ts::efd::ts_xml_languages:
        - "cpp"
        - "html"

ts::efd::ts_efd_writers:
        - command
        - event
        - telemetry

ts_sal::sal_network_interface: "eth1"

# INFLUX

#"-join my.other.node1:8091,my.other.node2:8091"
influxdb_opts: ""
influx_admin_user: "admin"
#Please don't use ! since it won't work
influx_admin_passwd: "root4u"
influx_telegraf_db_name: "telegraf"
influx_telegraf_user: "telegraf"
#Please don't use ! since it won't work
influx_telegraf_passwd: "Bnice2me"
influx_grafana_user: "grafana"
#Please don't use ! since it won't work
influx_grafana_passwd: "Bnice2me"

# Puppet Master

# Puppet Configurations
#####################################################

r10k_org: "lsst.org"
r10k_hiera_org: "lsst_hiera"

hiera_repo_id_path: "/path/to/nowhere"
hiera_repo_id_rsa: "notrequired"

autosign_servers:
        - "cl.lsst.org"
        - "us.lsst.org"
        - "dev.lsst.org"

control_repo: "https://github.com/lsst/itconf_l1ts.git"
hiera_repo: "/root/hiera/.git"

puppet_ssh_id_rsa: "CreateOneIfRequired"

ts_sal::sal_network_interface: "eth1"

# Remote Logging and Graylog Configuration
#=============================================================================
rsyslog_host: "10.0.0.253"
rsyslog_port: "5514"
rsyslog_proto: "udp"
rsyslog_patterns: "*.info;mail.none;authpriv.none;cron.none"

elasticsearch_xms: "512m"
elasticsearch_xmx: "512m"

#This password must have at least 16 characters
graylog_server_password_secret: "root4uroot4uroot4u"

#echo -n "root4u" | sha256sum
graylog_server_root_password_sha2: "ada6995028c231eff4f2bf1b647b2e120459d0ea972138e89ad394f6e8698b8c"
#firewall configuration
graylog_rsyslog_port: "5514"
graylog_rsyslog_proto: "udp"

# Grafana Configuration
#
grafana_version: "5.1.4"

#=============================================================================
# Telegraf common configuration

monitoring_enabled: true

country: "CL"
state: "Coquimbo"
locality: "La Serena"

telegraf::global_tags:
        service: "%{::service}"
        cluster: "%{::cluster}"
        device: "%{::device}"
        service_number: "%{::service_number}"
        device_number: "%{::device_number}"
        node_name: "%{::node_name}"
        datacenter: "%{::datacenter}"
        enclave: "%{::enclave}"
        country: "%{::country}"
        room: "%{::room}"
        rack: "%{::rack}"
        type: "%{::virtual}"
telegraf::interval: "1m"
telegraf::round_interval: true
telegraf::metric_batch_size: 1000
telegraf::metric_buffer_limit: 10000
telegraf::collection_jitter: "0s"
telegraf::flush_interval: "1m"
telegraf::flush_jitter: "0m"
telegraf::debug: false
telegraf::quiet: false
telegraf::hostname: ""
telegraf::omit_hostname: false
telegraf::outputs:
        influxdb:
                urls:
                        - "https://10.0.0.251:8086"
                database: 'telegraf'
                username: 'telegraf'
                password: 'Bnice2me'
                insecure_skip_verify: true

telegraf::inputs:
        cpu:
                percpu: true
                totalcpu: true
                collect_cpu_time: false
                report_active: false
        disk:
                ignore_fs:
                        - "tmpfs"
                        - "devtmpfs"
                        - "devfs"
        diskio:
        kernel:
        mem:
        processes:
        swap:
        system:
        internal:
                collect_memstats: true
        kernel_vmstat:
        linux_sysctl_fs:
        netstat:
        nstat:
        puppetagent:
                location: "/opt/puppetlabs/puppet/cache/state/last_run_summary.yaml"
        io:
        net:


# CCS Configurtion
##########################################################

ccs::java_version_major: "8u171"
ccs::java_version_minor: "b11"
ccs::java_url_hash: "512cd62ec5174c3487ac17c61aaa89e8"

# Data Management profile variables
#####################################################
dm::dm_header_service::ts_xml_subsystems:
        - "ocs"
        - "efd"
        - "atHeaderService"
        - "atcamera"
        - "atScheduler"

dm::dm_header_service::ts_xml_languages:
        - "cpp"
        - "python"

# Custom SAL Python Version
ts_sal::ts_python_build_version: "2.7"
ts_sal::ts_python_build_location: "/usr"
ts_sal::ts_pythonpath: "" 
